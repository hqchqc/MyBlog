# TypeScriptå…¥é—¨æ•™ç¨‹

> ğŸ¨ åŸæ–‡é“¾æ¥ï¼š [TypeScriptå…¥é—¨æ•™ç¨‹](https://ts.xcatliu.com/) è¿™é‡Œä¸»è¦è®°å½•é˜…è¯»çš„ç¬”è®°éƒ¨åˆ†ï¼

## ç®€ä»‹
### ä»€ä¹ˆæ˜¯TypeScript

> Typed JavaScript at Any Scale.   
> æ·»åŠ äº†**ç±»å‹ç³»ç»Ÿ**çš„ JavaScriptï¼Œé€‚ç”¨äº**ä»»ä½•è§„æ¨¡**çš„é¡¹ç›®ã€‚

#### TypeScriptçš„ç‰¹æ€§  
##### ç±»å‹ç³»ç»Ÿ
ä» TypeScript çš„åå­—å°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œã€Œç±»å‹ã€æ˜¯å…¶æœ€æ ¸å¿ƒçš„ç‰¹æ€§ã€‚  

æˆ‘ä»¬çŸ¥é“ï¼ŒJavaScript æ˜¯ä¸€é—¨éå¸¸çµæ´»çš„ç¼–ç¨‹è¯­è¨€ï¼š  
- å®ƒæ²¡æœ‰ç±»å‹çº¦æŸï¼Œä¸€ä¸ªå˜é‡å¯èƒ½åˆå§‹åŒ–æ—¶æ˜¯å­—ç¬¦ä¸²ï¼Œè¿‡ä¸€ä¼šå„¿åˆè¢«èµ‹å€¼ä¸ºæ•°å­—ã€‚
- ç”±äºéšå¼ç±»å‹è½¬æ¢çš„å­˜åœ¨ï¼Œæœ‰çš„å˜é‡çš„ç±»å‹å¾ˆéš¾åœ¨è¿è¡Œå‰å°±ç¡®å®šã€‚
- åŸºäºåŸå‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä½¿å¾—åŸå‹ä¸Šçš„å±æ€§æˆ–æ–¹æ³•å¯ä»¥åœ¨è¿è¡Œæ—¶è¢«ä¿®æ”¹ã€‚
- å‡½æ•°æ˜¯ JavaScript ä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œä¹Ÿå¯ä»¥å½“ä½œå‚æ•°æˆ–è¿”å›å€¼ã€‚  

è¿™ç§çµæ´»æ€§å°±åƒä¸€æŠŠåŒåˆƒå‰‘ï¼Œä¸€æ–¹é¢ä½¿å¾— JavaScript è“¬å‹ƒå‘å±•ï¼Œæ— æ‰€ä¸èƒ½ï¼Œä» 2013 å¹´å¼€å§‹å°±ä¸€ç›´è‰è”æœ€æ™®éä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œå† å†›ï¼›å¦ä¸€æ–¹é¢ä¹Ÿä½¿å¾—å®ƒçš„ä»£ç è´¨é‡å‚å·®ä¸é½ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼Œè¿è¡Œæ—¶é”™è¯¯å¤šã€‚

è€Œ TypeScript çš„ç±»å‹ç³»ç»Ÿï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¼¥è¡¥äº† JavaScript çš„ç¼ºç‚¹ã€‚  

###### TypeScriptæ˜¯é™æ€ç±»å‹  
ç±»å‹ç³»ç»ŸæŒ‰ç…§ã€Œç±»å‹æ£€æŸ¥çš„æ—¶æœºã€æ¥åˆ†ç±»ï¼Œå¯ä»¥åˆ†ä¸º**åŠ¨æ€ç±»å‹**å’Œ**é™æ€ç±»å‹**ã€‚

åŠ¨æ€ç±»å‹æ˜¯æŒ‡åœ¨è¿è¡Œæ—¶æ‰ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè¿™ç§è¯­è¨€çš„ç±»å‹é”™è¯¯å¾€å¾€ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚JavaScript æ˜¯ä¸€é—¨è§£é‡Šå‹è¯­è¨€ï¼Œæ²¡æœ‰ç¼–è¯‘é˜¶æ®µï¼Œæ‰€ä»¥å®ƒæ˜¯åŠ¨æ€ç±»å‹ã€‚  

é™æ€ç±»å‹æ˜¯æŒ‡ç¼–è¯‘é˜¶æ®µå°±èƒ½ç¡®å®šæ¯ä¸ªå˜é‡çš„ç±»å‹ï¼Œè¿™ç§è¯­è¨€çš„ç±»å‹é”™è¯¯å¾€å¾€ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚TypeScript åœ¨è¿è¡Œå‰éœ€è¦å…ˆç¼–è¯‘ä¸º JavaScriptï¼Œè€Œåœ¨ç¼–è¯‘é˜¶æ®µå°±ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ‰€ä»¥ TypeScript æ˜¯é™æ€ç±»å‹  

###### TypeScriptæ˜¯å¼±ç±»å‹  
ç±»å‹ç³»ç»ŸæŒ‰ç…§ã€Œæ˜¯å¦å…è®¸éšå¼ç±»å‹è½¬æ¢ã€æ¥åˆ†ç±»ï¼Œå¯ä»¥åˆ†ä¸º**å¼ºç±»å‹**å’Œ**å¼±ç±»å‹**ã€‚  

>å¼º/å¼±æ˜¯ç›¸å¯¹çš„ï¼ŒPython åœ¨å¤„ç†æ•´å‹å’Œæµ®ç‚¹å‹ç›¸åŠ æ—¶ï¼Œä¼šå°†æ•´å‹éšå¼è½¬æ¢ä¸ºæµ®ç‚¹å‹ï¼Œä½†æ˜¯è¿™å¹¶ä¸å½±å“ Python æ˜¯å¼ºç±»å‹çš„ç»“è®ºï¼Œå› ä¸ºå¤§éƒ¨åˆ†æƒ…å†µä¸‹ Python å¹¶ä¸ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚ç›¸æ¯”è€Œè¨€ï¼ŒJavaScript å’Œ TypeScript ä¸­ä¸ç®¡åŠ å·ä¸¤ä¾§æ˜¯ä»€ä¹ˆç±»å‹ï¼Œéƒ½å¯ä»¥é€šè¿‡éšå¼ç±»å‹è½¬æ¢è®¡ç®—å‡ºä¸€ä¸ªç»“æœâ€”â€”è€Œä¸æ˜¯æŠ¥é”™â€”â€”æ‰€ä»¥ JavaScript å’Œ TypeScript éƒ½æ˜¯å¼±ç±»å‹ã€‚

##### é€‚ç”¨äºä»»ä½•è§„æ¨¡
TypeScriptå¯ä»¥é€‚ç”¨ä»»ä½•è§„æ¨¡çš„é¡¹ç›®ï¼Œè€Œä¸”æ˜¯æ¸è¿›å¼çš„ï¼

##### ä¸æ ‡å‡†åŒæ­¥å‘å±•  
TypeScript çš„å¦ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§å°±æ˜¯åšæŒä¸ ECMAScript æ ‡å‡†åŒæ­¥å‘å±•ã€‚ 

#### æ€»ç»“  
ä»€ä¹ˆæ˜¯ TypeScriptï¼Ÿ  

- TypeScript æ˜¯æ·»åŠ äº†ç±»å‹ç³»ç»Ÿçš„ JavaScriptï¼Œé€‚ç”¨äºä»»ä½•è§„æ¨¡çš„é¡¹ç›®ã€‚
- TypeScript æ˜¯ä¸€é—¨é™æ€ç±»å‹ã€å¼±ç±»å‹çš„è¯­è¨€ã€‚
- TypeScript æ˜¯å®Œå…¨å…¼å®¹ JavaScript çš„ï¼Œå®ƒä¸ä¼šä¿®æ”¹ JavaScript è¿è¡Œæ—¶çš„ç‰¹æ€§ã€‚
- TypeScript å¯ä»¥ç¼–è¯‘ä¸º JavaScriptï¼Œç„¶åè¿è¡Œåœ¨æµè§ˆå™¨ã€Node.js ç­‰ä»»ä½•èƒ½è¿è¡Œ JavaScript çš„ç¯å¢ƒä¸­ã€‚
- TypeScript æ‹¥æœ‰å¾ˆå¤šç¼–è¯‘é€‰é¡¹ï¼Œç±»å‹æ£€æŸ¥çš„ä¸¥æ ¼ç¨‹åº¦ç”±ä½ å†³å®šã€‚
- TypeScript å¯ä»¥å’Œ JavaScript å…±å­˜ï¼Œè¿™æ„å‘³ç€ JavaScript é¡¹ç›®èƒ½å¤Ÿæ¸è¿›å¼çš„è¿ç§»åˆ° TypeScriptã€‚
- TypeScript å¢å¼ºäº†ç¼–è¾‘å™¨ï¼ˆIDEï¼‰çš„åŠŸèƒ½ï¼Œæä¾›äº†ä»£ç è¡¥å…¨ã€æ¥å£æç¤ºã€è·³è½¬åˆ°å®šä¹‰ã€ä»£ç é‡æ„ç­‰èƒ½åŠ›ã€‚
- TypeScript æ‹¥æœ‰æ´»è·ƒçš„ç¤¾åŒºï¼Œå¤§å¤šæ•°å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“éƒ½æä¾›äº†ç±»å‹å£°æ˜ã€‚
- TypeScript ä¸æ ‡å‡†åŒæ­¥å‘å±•ï¼Œç¬¦åˆæœ€æ–°çš„ ECMAScript æ ‡å‡†ï¼ˆstage 3ï¼‰ã€‚

### Hello TypeScript
ä»»ä½•è¯­è¨€éƒ½é€ƒä¸å‡ºè¢«Hello Wordæ”¯é…çš„å‘½è¿!  

é¦–å…ˆåˆ›å»ºä¸€ä¸ª``hello.ts``æ–‡ä»¶ï¼Œç¼–å†™ä»¥ä¸‹ä»£ç   

```typescript
function sayHello(person: string) {
    return 'Hello, ' + person;
}

let user = 'Tom';
console.log(sayHello(user));
```

ç„¶åæ‰§è¡Œ ``tsc hello.ts``   
è¿™æ—¶å€™ä¼šç”Ÿæˆä¸€ä¸ªç¼–è¯‘å¥½çš„æ–‡ä»¶ ``hello.js`` ï¼š

```javascript
function sayHello(person) {
    return 'Hello, ' + person;
}
var user = 'Tom';
console.log(sayHello(user));
```  

**TypeScript åªä¼šåœ¨ç¼–è¯‘æ—¶å¯¹ç±»å‹è¿›è¡Œé™æ€æ£€æŸ¥ï¼Œå¦‚æœå‘ç°æœ‰é”™è¯¯ï¼Œç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠ¥é”™**ã€‚è€Œåœ¨è¿è¡Œæ—¶ï¼Œä¸æ™®é€šçš„ JavaScript æ–‡ä»¶ä¸€æ ·ï¼Œä¸ä¼šå¯¹ç±»å‹è¿›è¡Œæ£€æŸ¥  
**TypeScript ç¼–è¯‘çš„æ—¶å€™å³ä½¿æŠ¥é”™äº†ï¼Œè¿˜æ˜¯ä¼šç”Ÿæˆç¼–è¯‘ç»“æœ**ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¼–è¯‘ä¹‹åçš„æ–‡ä»¶ã€‚  

## åŸºç¡€

### åŸå§‹æ•°æ®ç±»å‹
JavaScriptæ•°æ®åˆ†ä¸ºä¸¤ç§æ•°æ®ç±»å‹ï¼Œä¸€ç§æ˜¯åŸå§‹æ•°æ®ç±»å‹ï¼Œä¸€ç§æ˜¯å¯¹è±¡ç±»å‹  
åŸå§‹æ•°æ®ç±»å‹æœ‰ä¸ƒç§  
- å¸ƒå°”å€¼(boolean)
- æ•°å€¼(number)
- å­—ç¬¦ä¸²(string)
- null
- undefined
- Symbol
- bigInt

#### å¸ƒå°”å€¼
TypeScriptä¸­ä½¿ç”¨``boolean``å®šä¹‰å¸ƒå°”å€¼ç±»å‹  

```typescript
let isDone:boolean = false
```

ä½¿ç”¨æ„é€ å‡½æ•°``Boolean``åˆ›é€ çš„å¯¹è±¡è¿”å›çš„ä¸æ˜¯å¸ƒå°”å€¼

```typescript
let createdByNewBoolean: boolean = new Boolean(1);

// Type 'Boolean' is not assignable to type 'boolean'.
//   'boolean' is a primitive, but 'Boolean' is a wrapper object. Prefer using 'boolean' when possible.
```

äº‹å®ä¸Š``new Boolean()``è¿”å›çš„æ˜¯ä¸€ä¸ª``Boolean``å¯¹è±¡
```typescript
let createdByNewBoolean: Boolean = new Boolean(1);
```

ç›´æ¥è°ƒç”¨``Boolean``ä¹Ÿèƒ½è¿”å›ä¸€ä¸ª``boolean``ç±»å‹  
```typescript
let createdByBoolean: boolean = Boolean(1);
```  

åœ¨ TypeScript ä¸­ï¼Œ``boolean``æ˜¯ JavaScript ä¸­çš„åŸºæœ¬ç±»å‹ï¼Œè€Œ`` Boolean ``æ˜¯ JavaScript ä¸­çš„æ„é€ å‡½æ•°ã€‚å…¶ä»–åŸºæœ¬ç±»å‹ï¼ˆé™¤äº† null å’Œ undefinedï¼‰ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚  

#### æ•°å€¼
 ä½¿ç”¨``number``å®šä¹‰æ•°å€¼ç±»å‹  
 ```typescript
let decLiteral: number = 6;
let hexLiteral: number = 0xf00d;
// ES6 ä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•
let binaryLiteral: number = 0b1010;
// ES6 ä¸­çš„å…«è¿›åˆ¶è¡¨ç¤ºæ³•
let octalLiteral: number = 0o744;
let notANumber: number = NaN;
let infinityNumber: number = Infinity;
 ```  

#### å­—ç¬¦ä¸² 
ä½¿ç”¨``string``å®šä¹‰å­—ç¬¦ä¸²ç±»å‹  

```typescript
  let myName: string = "Tom";
  let myAge: number = 25;

  // æ¨¡æ¿å­—ç¬¦ä¸²
  let sentence: string = `Hello, my name is ${myName}.
  I'll be ${myAge + 1} years old next month.`;
```  

#### Nullå’ŒUndefined
åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ ``null`` å’Œ ``undefined``æ¥å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹  
```typescript
  let u: undefined = undefined;
  let n: null = null;
```  

ä¸ ``void`` çš„åŒºåˆ«æ˜¯ï¼Œ``undefined`` å’Œ ``null`` æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ ``undefined`` ç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™ ``number`` ç±»å‹çš„å˜é‡ï¼š  

```typescript
// è¿™æ ·ä¸ä¼šæŠ¥é”™
let num: number = undefined;

// è¿™æ ·ä¹Ÿä¸ä¼šæŠ¥é”™
let u: undefined;
let num: number = u;
```  

è€Œ ``void`` ç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™ ``number`` ç±»å‹çš„å˜é‡ï¼š  
```typescript
  let u: void;
  let num: number = u;

  // Type 'void' is not assignable to type 'number'.
```  

#### ç©ºå€¼
JavaScript æ²¡æœ‰ç©ºå€¼ï¼ˆVoidï¼‰çš„æ¦‚å¿µï¼Œåœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ç”¨ ``void`` è¡¨ç¤ºæ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•°ï¼š  

```typescript
function alertName(): void {
  alert('My name is Tom');
}
```  

å£°æ˜ä¸€ä¸ª ``void`` ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ åªèƒ½å°†å®ƒèµ‹å€¼ä¸º ``undefined`` å’Œ ``null``ï¼ˆåªåœ¨ --strictNullChecks æœªæŒ‡å®šæ—¶ï¼‰ï¼š  
```typescript
let unusable: void = undefined;
```  

### ä»»æ„å€¼  
ä»»æ„å€¼ï¼ˆAnyï¼‰ç”¨æ¥è¡¨ç¤ºå…è®¸èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚  

#### ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹  
å¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šç±»å‹ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­æ”¹å˜ç±»å‹æ˜¯ä¸è¢«å…è®¸çš„  

```javascript
let myFavoriteNumber: string = 'seven';
myFavoriteNumber = 7;

// index.ts(2,1): error TS2322: Type 'number' is not assignable to type 'string'.
```  
ä½†å¦‚æœæ˜¯ ``any`` ç±»å‹ï¼Œåˆ™å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚

```typescript
let myFavoriteNumber: any = 'seven';
myFavoriteNumber = 7;
```  

### ç±»å‹æ¨è®º  
å¦‚æœæ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹ï¼Œé‚£ä¹ˆ TypeScript ä¼šä¾ç…§ç±»å‹æ¨è®ºï¼ˆType Inferenceï¼‰çš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹ã€‚  

**å¦‚æœå®šä¹‰çš„æ—¶å€™æ²¡æœ‰èµ‹å€¼ï¼Œä¸ç®¡ä¹‹åæœ‰æ²¡æœ‰èµ‹å€¼ï¼Œéƒ½ä¼šè¢«æ¨æ–­æˆ any ç±»å‹è€Œå®Œå…¨ä¸è¢«ç±»å‹æ£€æŸ¥**  

```typescript
let myFavoriteNumber;
myFavoriteNumber = 'seven';
myFavoriteNumber = 7;
```

### è”åˆç±»å‹  
è”åˆç±»å‹ï¼ˆUnion Typesï¼‰è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚  

#### ä¾‹å­  

è”åˆç±»å‹ä½¿ç”¨ ``|`` åˆ†éš”æ¯ä¸ªç±»å‹ã€‚  

```typescript
let myFavoriteNumber: string | number;
myFavoriteNumber = 'seven';
myFavoriteNumber = 7;
```  

#### <a name="Common">è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–æ–¹æ³•</a>

å½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œ**å…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•**ï¼š  

```typescript
function myTest(sonmething: string | number):number {
  return sonmething.length
} 

// index.ts(2,22): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
```

### å¯¹è±¡çš„ç±»å‹â€”â€”æ¥å£  
åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥å£ï¼ˆInterfacesï¼‰æ¥å®šä¹‰å¯¹è±¡çš„ç±»å‹ã€‚  

#### ä»€ä¹ˆæ˜¯æ¥å£  
åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œæ¥å£ï¼ˆInterfacesï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»ï¼ˆclassesï¼‰å»å®ç°ï¼ˆimplementï¼‰ã€‚  

TypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚  

#### ç®€å•çš„ä¾‹å­  

```typescript
interface Person {
  name: string;
  age: number;
}

let person: Person = {
  name: "qc",
  age: 24,
};
```  

**æ¥å£ä¸€èˆ¬é¦–å­—æ¯å¤§å†™**ã€‚æœ‰çš„ç¼–ç¨‹è¯­è¨€ä¸­ä¼šå»ºè®®æ¥å£çš„åç§°åŠ ä¸Š**I**å‰ç¼€ã€‚  

å®šä¹‰çš„å˜é‡æ¯”æ¥å£å°‘æˆ–æ˜¯å¤šäº†ä¸€äº›çš„å±æ€§æ˜¯ä¸è¢«å…è®¸çš„ã€‚  

**èµ‹å€¼çš„æ—¶å€™ï¼Œå˜é‡çš„å½¢çŠ¶å¿…é¡»å’Œæ¥å£çš„å½¢çŠ¶ä¿æŒä¸€è‡´**  

#### å¯é€‰å±æ€§  
æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸è¦å®Œå…¨åŒ¹é…ä¸€ä¸ªå½¢çŠ¶ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¯é€‰å±æ€§ï¼š  

```typescript
interface Person {
  name: string;
  age?: number;
}

let person: Person = {
  name: "qc",
};
```  

è¿™æ—¶ä»ç„¶ä¸å…è®¸æ·»åŠ æœªå®šä¹‰çš„å±æ€§ï¼š  
```typescript
interface Person {
  name: string;
  age?: number;
}

let tom: Person = {
  name: 'Tom',
  age: 25,
  gender: 'male'
};

// examples/playground/index.ts(9,5): error TS2322: Type '{ name: string; age: number; gender: string; }' is not assignable to type 'Person'.
//   Object literal may only specify known properties, and 'gender' does not exist in type 'Person'.
```  

#### ä»»æ„å±æ€§  
æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªæ¥å£å…è®¸æœ‰ä»»æ„çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š  
```typescript
interface Person {
  name: string;
  age?: number;
  [propName: string]: any;
}

let tom: Person = {
  name: 'Tom',
  gender: 'male'
};
```  

ä½¿ç”¨ ``[propName: string]`` å®šä¹‰äº†ä»»æ„å±æ€§å– string ç±»å‹çš„å€¼ã€‚  

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**ä¸€æ—¦å®šä¹‰äº†ä»»æ„å±æ€§ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†**ï¼š  

```typescript
interface Person {
  name: string;
  age?: number;
  [propName: string]: string;
}

let tom: Person = {
  name: 'Tom',
  age: 25,
  gender: 'male'
};

// index.ts(3,5): error TS2411: Property 'age' of type 'number' is not assignable to string index type 'string'.
// index.ts(7,5): error TS2322: Type '{ [x: string]: string | number; name: string; age: number; gender: string; }' is not assignable to type 'Person'.
//   Index signatures are incompatible.
//     Type 'string | number' is not assignable to type 'string'.
//       Type 'number' is not assignable to type 'string'.
```

ä¸€ä¸ªæ¥å£ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªä»»æ„å±æ€§ã€‚å¦‚æœæ¥å£ä¸­æœ‰å¤šä¸ªç±»å‹çš„å±æ€§ï¼Œåˆ™å¯ä»¥åœ¨ä»»æ„å±æ€§ä¸­ä½¿ç”¨è”åˆç±»å‹ï¼š  
```typescript
interface Person {
  name: string;
  age?: number;
  [propName: string]: string | number;
}

let tom: Person = {
  name: 'Tom',
  age: 25,
  gender: 'male'
};
```  

#### åªè¯»å±æ€§  
æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯¹è±¡ä¸­çš„ä¸€äº›å­—æ®µåªèƒ½åœ¨åˆ›å»ºçš„æ—¶å€™è¢«èµ‹å€¼ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ readonly å®šä¹‰åªè¯»å±æ€§ï¼š  

```typescript
interface Person {
  readonly id: number;
  name: string;
  age?: number;
  [propName: string]: any;
}

let tom: Person = {
  id: 89757,
  name: 'Tom',
  gender: 'male'
};

tom.id = 9527;

// index.ts(14,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property.
```  

**æ³¨æ„ï¼Œåªè¯»çš„çº¦æŸå­˜åœ¨äºç¬¬ä¸€æ¬¡ç»™å¯¹è±¡èµ‹å€¼çš„æ—¶å€™ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€æ¬¡ç»™åªè¯»å±æ€§èµ‹å€¼çš„æ—¶å€™**  

```typescript
interface Person {
  readonly id: number;
  name: string;
  age?: number;
  [propName: string]: any;
}

let tom: Person = {
  name: 'Tom',
  gender: 'male'
};

tom.id = 89757;

// index.ts(8,5): error TS2322: Type '{ name: string; gender: string; }' is not assignable to type 'Person'.
//   Property 'id' is missing in type '{ name: string; gender: string; }'.
// index.ts(13,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property.
```

### æ•°ç»„çš„ç±»å‹  

åœ¨ TypeScript ä¸­ï¼Œæ•°ç»„ç±»å‹æœ‰å¤šç§å®šä¹‰æ–¹å¼ï¼Œæ¯”è¾ƒçµæ´»ã€‚  

#### ã€Œç±»å‹ + æ–¹æ‹¬å·ã€è¡¨ç¤ºæ³•  
æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ã€Œç±»å‹ + æ–¹æ‹¬å·ã€æ¥è¡¨ç¤ºæ•°ç»„ï¼š  

```typescript
let fibonacci: number[] = [1, 1, 2, 3, 5];
```  

æ•°ç»„çš„é¡¹ä¸­ä¸å…è®¸å‡ºç°å…¶ä»–çš„ç±»å‹ï¼š 

```typescript
let fibonacci: number[] = [1, '1', 2, 3, 5];

// Type 'string' is not assignable to type 'number'.
```  

æ•°ç»„çš„ä¸€äº›æ–¹æ³•çš„å‚æ•°ä¹Ÿä¼šæ ¹æ®æ•°ç»„åœ¨å®šä¹‰æ—¶çº¦å®šçš„ç±»å‹è¿›è¡Œé™åˆ¶ï¼š  

```typescript
let fibonacci: number[] = [1, 1, 2, 3, 5];
fibonacci.push('8');

// Argument of type '"8"' is not assignable to parameter of type 'number'.
```  

ä¸Šä¾‹ä¸­ï¼Œpush æ–¹æ³•åªå…è®¸ä¼ å…¥ number ç±»å‹çš„å‚æ•°ï¼Œä½†æ˜¯å´ä¼ äº†ä¸€ä¸ª "8" ç±»å‹çš„å‚æ•°ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚è¿™é‡Œ "8" æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ï¼Œä¼šåœ¨åç»­ç« èŠ‚ä¸­è¯¦ç»†ä»‹ç»ã€‚   

#### æ•°ç»„æ³›å‹  
æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆArray Genericï¼‰ ``Array<elemType>`` æ¥è¡¨ç¤ºæ•°ç»„ï¼š  

```typescript
let fibonacci: Array<number> = [1, 1, 2, 3, 5];
```

å…³äºæ³›å‹ï¼Œå¯ä»¥å‚è€ƒ<a href="#T">æ³›å‹</a>ä¸€ç« ã€‚  

#### ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„  
æ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°æ•°ç»„ï¼š  
```typescript
interface NumberArray {
  [index: number]: number;
}
let fibonacci: NumberArray = [1, 1, 2, 3, 5];
```  

**NumberArray** è¡¨ç¤ºï¼šåªè¦ç´¢å¼•çš„ç±»å‹æ˜¯æ•°å­—æ—¶ï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—ã€‚  

è™½ç„¶æ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°æ•°ç»„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šè¿™ä¹ˆåšï¼Œå› ä¸ºè¿™ç§æ–¹å¼æ¯”å‰ä¸¤ç§æ–¹å¼å¤æ‚å¤šäº†ã€‚  

ä¸è¿‡æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–ï¼Œé‚£å°±æ˜¯å®ƒå¸¸ç”¨æ¥è¡¨ç¤ºç±»æ•°ç»„  

#### ç±»æ•°ç»„  
ç±»æ•°ç»„ï¼ˆArray-like Objectï¼‰ä¸æ˜¯æ•°ç»„ç±»å‹ï¼Œæ¯”å¦‚ **arguments**ï¼š  

```typescript
function sum() {
  let args: number[] = arguments;
}

// Type 'IArguments' is missing the following properties from type 'number[]': pop, push, concat, join, and 24 more.
```  
ä¸Šä¾‹ä¸­ï¼Œarguments å®é™…ä¸Šæ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œä¸èƒ½ç”¨æ™®é€šçš„æ•°ç»„çš„æ–¹å¼æ¥æè¿°ï¼Œè€Œåº”è¯¥ç”¨æ¥å£ï¼š  
```typescript
function sum() {
  let args: {
    [index: number]: number;
    length: number;
    callee: Function;
  } = arguments;
}
```  

è¿™ä¸ªä¾‹å­è¦æ³¨æ„ä¸€ä¸‹ï¼Œåœ¨ä¹‹å‰çš„ç« èŠ‚æˆ‘ä»¬è®²äº†å¦‚æœé‡‡ç”¨``[]``çš„å£°æ˜æ–¹å¼ï¼Œé‚£ä¹ˆå¯¹è±¡ä¸­å…¶å®ƒå€¼å¾—ç±»å‹åº”è¯¥æ˜¯è¿™ä¸ªç±»å‹å¾—å­é›†ï¼Œè¿™é‡Œè¦è¯´æ˜ä¸€ä¸‹ï¼Œè¿™ä¸ªé™åˆ¶åªé’ˆå¯¹``[]``ä¸­å¾—å€¼çš„ç±»å‹ä¸º``string``çš„æ—¶å€™æœ‰è¿™é¡¹é™åˆ¶ï¼  

>æœ‰ä¸€ä¸ªå‰æï¼Œä»»æ„å±æ€§çš„ç±»å‹ä¸ºstringæ—¶ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»ä¸ºå®ƒçš„ç±»å‹çš„å­é›†ï¼Œè¿™ä¸ªä¾‹å­æ˜¯numberç±»å‹ï¼Œæ‰€ä»¥æ²¡æœ‰æŠ¥é”™ï¼Œä½ æŠŠä»»æ„å±æ€§ç±»å‹æ¢æˆstringå°±ä¼š  

äº‹å®ä¸Šå¸¸ç”¨çš„ç±»æ•°ç»„éƒ½æœ‰è‡ªå·±çš„æ¥å£å®šä¹‰ï¼Œå¦‚ IArguments, NodeList, HTMLCollection ç­‰ï¼š  

```typescript
function sum() {
  let args: IArguments = arguments;
}
```

å…¶ä¸­ ``IArguments`` æ˜¯ TypeScript ä¸­å®šä¹‰å¥½äº†çš„ç±»å‹ï¼Œå®ƒå®é™…ä¸Šå°±æ˜¯ï¼š  

```typescript
interface IArguments {
  [index: number]: any;
  length: number;
  callee: Function;
}
```  

#### anyåœ¨æ•°ç»„ä¸­çš„ä½œç”¨  
ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åšæ³•æ˜¯ï¼Œç”¨ ``any`` è¡¨ç¤ºæ•°ç»„ä¸­å…è®¸å‡ºç°ä»»æ„ç±»å‹   

```typescript
let list: any[] = ['xcatliu', 25, { website: 'http://xcatliu.com' }];
```

### å‡½æ•°çš„ç±»å‹ 

#### å‡½æ•°å£°æ˜
åœ¨ JavaScript ä¸­ï¼Œæœ‰ä¸¤ç§å¸¸è§çš„å®šä¹‰å‡½æ•°çš„æ–¹å¼â€”â€”å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ï¼š  

```javascript
// å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰
function sum(x, y) {
  return x + y;
}

// å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰
let mySum = function (x, y) {
  return x + y;
};
```  

ä¸€ä¸ªå‡½æ•°æœ‰è¾“å…¥å’Œè¾“å‡ºï¼Œè¦åœ¨ TypeScript ä¸­å¯¹å…¶è¿›è¡Œçº¦æŸï¼Œéœ€è¦æŠŠè¾“å…¥å’Œè¾“å‡ºéƒ½è€ƒè™‘åˆ°ï¼Œå…¶ä¸­å‡½æ•°å£°æ˜çš„ç±»å‹å®šä¹‰è¾ƒç®€å•ï¼š  

```typescript
function sum(x: number, y: number): number {
    return x + y;
}
```  

æ³¨æ„ï¼Œ**è¾“å…¥å¤šä½™çš„ï¼ˆæˆ–è€…å°‘äºè¦æ±‚çš„ï¼‰å‚æ•°ï¼Œæ˜¯ä¸è¢«å…è®¸çš„**:   

```typescript
function sum(x: number, y: number): number {
    return x + y;
}
sum(1, 2, 3);

sum(1);

// index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target.
```   

#### å‡½æ•°è¡¨è¾¾å¼  

```typescript
let mySum = function (x: number, y: number): number {
  return x + y;
};
```

**è¦æ³¨æ„æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢é‚£ç§å£°æ˜æ–¹å¼æ—¶ï¼Œå…¶å®æˆ‘ä»¬åªå®šä¹‰äº†å³è¾¹åŒ¿åå‡½æ•°çš„éƒ¨åˆ†ï¼ŒmySumè¿˜æ˜¯ä¾é ç±»å‹æ¨è®ºå‡ºæ¥çš„**  

```typescript
let mySum: (x: number, y: number) => number = function (x: number, y: number): number {
  return x + y;
};
```  

æ³¨æ„ä¸è¦æ··æ·†äº† TypeScript ä¸­çš„ ``=>`` å’Œ ES6 ä¸­çš„ ``=>``ã€‚  

åœ¨ TypeScript çš„ç±»å‹å®šä¹‰ä¸­ï¼Œ``=>`` ç”¨æ¥è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥ç±»å‹ï¼Œéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹ã€‚  

#### ç”¨æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶  
æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥å£çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°éœ€è¦ç¬¦åˆçš„å½¢çŠ¶ï¼š  

```typescript
interface SearchFunc {
  (source: string, subString: string): boolean;
}

let mySearch: SearchFunc;
mySearch = function(source: string, subString: string) {
  return source.search(subString) !== -1;
}
```  
é‡‡ç”¨å‡½æ•°è¡¨è¾¾å¼æˆ–æ¥å£å®šä¹‰å‡½æ•°çš„æ–¹å¼æ—¶ï¼Œå¯¹ç­‰å·å·¦ä¾§è¿›è¡Œç±»å‹é™åˆ¶ï¼Œå¯ä»¥ä¿è¯ä»¥åå¯¹å‡½æ•°åèµ‹å€¼æ—¶ä¿è¯å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ä¸å˜ã€‚  

#### å¯é€‰å‚æ•°  
å‰é¢æåˆ°ï¼Œè¾“å…¥å¤šä½™çš„ï¼ˆæˆ–è€…å°‘äºè¦æ±‚çš„ï¼‰å‚æ•°ï¼Œæ˜¯ä¸å…è®¸çš„ã€‚é‚£ä¹ˆå¦‚ä½•å®šä¹‰å¯é€‰çš„å‚æ•°å‘¢ï¼Ÿ

ä¸æ¥å£ä¸­çš„å¯é€‰å±æ€§ç±»ä¼¼ï¼Œæˆ‘ä»¬ç”¨ ``?`` è¡¨ç¤ºå¯é€‰çš„å‚æ•°ï¼š  

```typescript
function buildName(firstName: string, lastName?: string) {
  if (lastName) {
    return firstName + ' ' + lastName;
  } else {
    return firstName;
  }
}
let tomcat = buildName('Tom', 'Cat');
let tom = buildName('Tom');
```  

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€‚æ¢å¥è¯è¯´ï¼Œ**å¯é€‰å‚æ•°åé¢ä¸å…è®¸å†å‡ºç°å¿…éœ€å‚æ•°äº†**  

```typescript
function buildName(firstName?: string, lastName: string) {
  if (firstName) {
    return firstName + ' ' + lastName;
  } else {
    return lastName;
  }
}
let tomcat = buildName('Tom', 'Cat');
let tom = buildName(undefined, 'Tom');

// index.ts(1,40): error TS1016: A required parameter cannot follow an optional parameter.
```  

#### å‚æ•°é»˜è®¤å€¼  
åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å…è®¸ç»™å‡½æ•°çš„å‚æ•°æ·»åŠ é»˜è®¤å€¼ï¼Œ**TypeScript ä¼šå°†æ·»åŠ äº†é»˜è®¤å€¼çš„å‚æ•°è¯†åˆ«ä¸ºå¯é€‰å‚æ•°**  

```typescript
function buildName(firstName: string, lastName: string = 'Cat') {
  return firstName + ' ' + lastName;
}
let tomcat = buildName('Tom', 'Cat');
let tom = buildName('Tom');
```  

æ­¤æ—¶å°±ä¸å—ã€Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€çš„é™åˆ¶äº†  

```typescript
function buildName(firstName: string = 'Tom', lastName: string) {
  return firstName + ' ' + lastName;
}
let tomcat = buildName('Tom', 'Cat');
let cat = buildName(undefined, 'Cat');
```  

#### å‰©ä½™å‚æ•°  
ES6 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ ``...rest`` çš„æ–¹å¼è·å–å‡½æ•°ä¸­çš„å‰©ä½™å‚æ•°ï¼ˆrest å‚æ•°ï¼‰ï¼š  

```typescript
function push(array, ...items) {
  items.forEach(function(item) {
    array.push(item);
  });
}

let a: any[] = [];
push(a, 1, 2, 3);
```  

äº‹å®ä¸Šï¼Œ``items`` æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨æ•°ç»„çš„ç±»å‹æ¥å®šä¹‰å®ƒï¼š  

```typescript
function push(array: number[], ...items: number[]) {
  items.forEach(function(item) {
    array.push(item);
  });
}

let a = [];
push(a, 1, 2, 3);
```  

æ³¨æ„ï¼Œrest å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°   

#### é‡è½½  
é‡è½½å…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ—¶ï¼Œä½œå‡ºä¸åŒçš„å¤„ç†  

æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªå‡½æ•° reverseï¼Œè¾“å…¥æ•°å­— 123 çš„æ—¶å€™ï¼Œè¾“å‡ºåè½¬çš„æ•°å­— 321ï¼Œè¾“å…¥å­—ç¬¦ä¸² 'hello' çš„æ—¶å€™ï¼Œè¾“å‡ºåè½¬çš„å­—ç¬¦ä¸² 'olleh'ã€‚  

åˆ©ç”¨è”åˆç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå®ç°ï¼š  

```typescript
function reverse(x: number | string): number | string | void {
  if (typeof x === 'number') {
    return Number(x.toString().split('').reverse().join(''));
  } else if (typeof x === 'string') {
    return x.split('').reverse().join('');
  }
}
```  

**è¿™æ ·å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸å¤Ÿç²¾ç¡®ï¼Œä¹Ÿå’Œé‡è½½è¿™ä¸ªå®šä¹‰å¯ä»¥è¯´æœ‰é‚£ä¹ˆä¸€ç‚¹ä¸ç›¸å…³ï¼Œè¾“å…¥ä¸ºæ•°å­—çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿåº”è¯¥ä¸ºæ•°å­—ï¼Œè¾“å…¥ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿåº”è¯¥ä¸ºå­—ç¬¦ä¸²**  

è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é‡è½½å®šä¹‰å¤šä¸ª ``reverse`` çš„å‡½æ•°ç±»å‹  

```typescript
function reverse(x: number): number;
function reverse(x: string): string;
function reverse(x: number | string): number | string | void {
  if (typeof x === 'number') {
    return Number(x.toString().split('').reverse().join(''));
  } else if (typeof x === 'string') {
    return x.split('').reverse().join('');
  }
}
```  

å¹¶ä¸”è¿™é‡Œå‡½æ•°çš„å®ç°è¦åœ¨å‡½æ•°ç±»å‹å£°æ˜çš„åé¢  

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬é‡å¤å®šä¹‰äº†å¤šæ¬¡å‡½æ•° reverseï¼Œå‰å‡ æ¬¡éƒ½æ˜¯å‡½æ•°å®šä¹‰ï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ã€‚åœ¨ç¼–è¾‘å™¨çš„ä»£ç æç¤ºä¸­ï¼Œå¯ä»¥æ­£ç¡®çš„çœ‹åˆ°å‰ä¸¤ä¸ªæç¤ºã€‚  

æ³¨æ„ï¼ŒTypeScript ä¼šä¼˜å…ˆä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…ï¼Œæ‰€ä»¥å¤šä¸ªå‡½æ•°å®šä¹‰å¦‚æœæœ‰åŒ…å«å…³ç³»ï¼Œéœ€è¦ä¼˜å…ˆæŠŠç²¾ç¡®çš„å®šä¹‰å†™åœ¨å‰é¢ã€‚


### ç±»å‹æ–­è¨€  
ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ã€‚  

#### è¯­æ³•  

```typescript
å€¼ as ç±»å‹
```  

æˆ–  

```typescript
<ç±»å‹>å€¼
```  

è¦æ³¨æ„çš„æ˜¯å¦‚æœåœ¨``react``ä¸­``<>``é™¤äº†è¡¨ç¤ºæ˜¯ä¸€ä¸ª``ReactNode``ä¹‹å¤–è¿˜å¯èƒ½è¡¨ç¤ºæ³›å‹  

#### ç±»å‹æ–­è¨€çš„ç”¨é€”  

ç±»å‹æ–­è¨€çš„å¸¸è§ç”¨é€”æœ‰ä»¥ä¸‹å‡ ç§ï¼š  
1. å°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹  
   <a href="#Common">ä¹‹å‰æåˆ°è¿‡</a>ï¼Œå½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œ**æˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹ä¸­å…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•**ï¼š  
   ```typescript
    interface Cat {
      name: string;
      run(): void;
    }
    interface Fish {
      name: string;
      swim(): void;
    }

    function getName(animal: Cat | Fish) {
      return animal.name;
    }
   ```  

   è€Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ç¡®å®éœ€è¦åœ¨è¿˜ä¸ç¡®å®šç±»å‹çš„æ—¶å€™å°±è®¿é—®å…¶ä¸­ä¸€ä¸ªç±»å‹ç‰¹æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œæ¯”å¦‚  

   ```typescript
    interface Cat {
      name: string;
      run(): void;
    }
    interface Fish {
      name: string;
      swim(): void;
    }

    function isFish(animal: Cat | Fish) {
      if (typeof animal.swim === 'function') {
        return true;
      }
      return false;
    }

    // index.ts:11:23 - error TS2339: Property 'swim' does not exist on type 'Cat | Fish'.
    // Property 'swim' does not exist on type 'Cat'.
   ```  

   ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè·å– ``animal.swim`` çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚

   æ­¤æ—¶å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œå°† ``animal`` æ–­è¨€æˆ ``Fish``  

   ```typescript
    interface Cat {
      name: string;
      run(): void;
    }
    interface Fish {
      name: string;
      swim(): void;
    }

    function isFish(animal: Cat | Fish) {
      if (typeof (animal as Fish).swim === 'function') {
        return true;
      }
      return false;
    }
   ```  
   è¿™æ ·å°±å¯ä»¥è§£å†³è®¿é—® ``animal.swim`` æ—¶æŠ¥é”™çš„é—®é¢˜äº†ã€‚  

   éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»å‹æ–­è¨€åªèƒ½å¤Ÿã€Œæ¬ºéª—ã€TypeScript ç¼–è¯‘å™¨ï¼Œæ— æ³•é¿å…è¿è¡Œæ—¶çš„é”™è¯¯ï¼Œåè€Œæ»¥ç”¨ç±»å‹æ–­è¨€å¯èƒ½ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ï¼š  

   ```typescript
    interface Cat {
      name: string;
      run(): void;
    }
    interface Fish {
      name: string;
      swim(): void;
    }

    function swim(animal: Cat | Fish) {
      (animal as Fish).swim();
    }

    const tom: Cat = {
      name: 'Tom',
      run() { console.log('run') }
    };
    swim(tom);
    // Uncaught TypeError: animal.swim is not a function`
   ```  

   ä¸Šé¢çš„ä¾‹å­ç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™ï¼Œä½†åœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼š  

   ``Uncaught TypeError: animal.swim is not a function``  

   åŸå› æ˜¯ (animal as Fish).swim() è¿™æ®µä»£ç éšè—äº† animal å¯èƒ½ä¸º Cat çš„æƒ…å†µï¼Œå°† animal ç›´æ¥æ–­è¨€ä¸º Fish äº†ï¼Œè€Œ TypeScript ç¼–è¯‘å™¨ä¿¡ä»»äº†æˆ‘ä»¬çš„æ–­è¨€ï¼Œæ•…åœ¨è°ƒç”¨ swim() æ—¶æ²¡æœ‰ç¼–è¯‘é”™è¯¯ã€‚  
   
   å¯æ˜¯ swim å‡½æ•°æ¥å—çš„å‚æ•°æ˜¯ Cat | Fishï¼Œä¸€æ—¦ä¼ å…¥çš„å‚æ•°æ˜¯ Cat ç±»å‹çš„å˜é‡ï¼Œç”±äº Cat ä¸Šæ²¡æœ‰ swim æ–¹æ³•ï¼Œå°±ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯äº†ã€‚  

   æ€»ä¹‹ï¼Œä½¿ç”¨ç±»å‹æ–­è¨€æ—¶ä¸€å®šè¦æ ¼å¤–å°å¿ƒï¼Œå°½é‡é¿å…æ–­è¨€åè°ƒç”¨æ–¹æ³•æˆ–å¼•ç”¨æ·±å±‚å±æ€§ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„è¿è¡Œæ—¶é”™è¯¯ã€‚  

  2. å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»  
     å½“ç±»ä¹‹é—´æœ‰ç»§æ‰¿å…³ç³»æ—¶ï¼Œç±»å‹æ–­è¨€ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ï¼š  
    
     ```typescript
      class APIError extends Error {
        code: number = 500;
      }
      class InterfaceError extends Error {
        statusCode: number = 200;
      }

      function isAPIError(error: Error) {
        if (typeof (error as APIError).code === "number") {
          return true;
        }
        return false;
      }
     ``` 

     è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬å£°æ˜äº†``isAPIError``å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¼ å…¥çš„æ˜¯ä¸æ˜¯``APIError``ç±»å‹ï¼Œä¸ºäº†è¾¾æˆç›®çš„ï¼Œè¿™é‡Œåªèƒ½å°†``error``æ–­è¨€ä¸º``APIError``ç±»å‹, å³å®ƒçš„å‚æ•°çš„ç±»å‹è‚¯å®šå¾—æ˜¯æ¯”è¾ƒæŠ½è±¡çš„çˆ¶ç±»``Error``ï¼Œè¿™æ ·çš„è¯è¿™ä¸ªå‡½æ•°å°±èƒ½æ¥å— ``Error`` æˆ–å®ƒçš„å­ç±»ä½œä¸ºå‚æ•°äº†  

     ä½†æ˜¯ç”±äºçˆ¶ç±»``Error``ä¸­æ²¡æœ‰ ``code`` å±æ€§ï¼Œæ•…ç›´æ¥è·å– ``error.code`` ä¼šæŠ¥é”™ï¼Œéœ€è¦ä½¿ç”¨ç±»å‹æ–­è¨€è·å– ``(error as ApiError).code``ã€‚  

     å¤§å®¶å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸€ä¸ªæ›´åˆé€‚çš„æ–¹å¼æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯ ``ApiError``ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ ``instanceof``ã€‚  

     ```typescript
      class ApiError extends Error {
        code: number = 0;
      }
      class HttpError extends Error {
        statusCode: number = 200;
      }

      function isApiError(error: Error) {
        if (error instanceof ApiError) {
          return true;
        }
        return false;
      }
     ```  

     ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œç¡®å®ä½¿ç”¨`` instanceof ``æ›´åŠ åˆé€‚ï¼Œå› ä¸º ``ApiError`` æ˜¯ä¸€ä¸ª ``JavaScript`` çš„ç±»ï¼Œèƒ½å¤Ÿé€šè¿‡ ``instanceof`` æ¥åˆ¤æ–­ ``error`` æ˜¯å¦æ˜¯å®ƒçš„å®ä¾‹ã€‚    
     
     ä½†æ˜¯æœ‰çš„æƒ…å†µä¸‹ ``ApiError`` å’Œ ``HttpError`` ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç±»ï¼Œè€Œåªæ˜¯ä¸€ä¸ª ``TypeScript`` çš„æ¥å£ï¼ˆinterfaceï¼‰ï¼Œæ¥å£æ˜¯ä¸€ä¸ªç±»å‹ï¼Œä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„å€¼ï¼Œå®ƒåœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ï¼Œå½“ç„¶å°±æ— æ³•ä½¿ç”¨ ``instanceof`` æ¥åšè¿è¡Œæ—¶åˆ¤æ–­äº†  

     ```typescript
      interface ApiError extends Error {
        code: number;
      }
      interface HttpError extends Error {
        statusCode: number;
      }

      function isApiError(error: Error) {
        if (error instanceof ApiError) {
          return true;
        }
        return false;
      }

      // index.ts:9:26 - error TS2693: 'ApiError' only refers to a type, but is being used as a value here.
     ```  

     æ­¤æ—¶å°±åªèƒ½ç”¨ç±»å‹æ–­è¨€ï¼Œé€šè¿‡åˆ¤æ–­æ˜¯å¦å­˜åœ¨ ``code`` å±æ€§ï¼Œæ¥åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯ä¸æ˜¯ ``ApiError`` äº†ï¼š  

     ```typescript
      interface ApiError extends Error {
        code: number;
      }
      interface HttpError extends Error {
        statusCode: number;
      }

      function isApiError(error: Error) {
        if (typeof (error as ApiError).code === 'number') {
          return true;
        }
        return false;
      }
     ```  

  3. å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º``any``  
     
     ç†æƒ³æƒ…å†µä¸‹ï¼ŒTypeScript çš„ç±»å‹ç³»ç»Ÿè¿è½¬è‰¯å¥½ï¼Œæ¯ä¸ªå€¼çš„ç±»å‹éƒ½å…·ä½“è€Œç²¾ç¡®ã€‚  

     éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°†ä¸€ä¸ªå˜é‡æ–­è¨€ä¸º any å¯ä»¥è¯´æ˜¯è§£å†³ TypeScript ä¸­ç±»å‹é—®é¢˜çš„æœ€åä¸€ä¸ªæ‰‹æ®µã€‚

     **å®ƒææœ‰å¯èƒ½æ©ç›–äº†çœŸæ­£çš„ç±»å‹é”™è¯¯ï¼Œæ‰€ä»¥å¦‚æœä¸æ˜¯éå¸¸ç¡®å®šï¼Œå°±ä¸è¦ä½¿ç”¨ as any**ã€‚  

     æ€»ä¹‹ï¼Œä¸€æ–¹é¢ä¸èƒ½æ»¥ç”¨ ``as any``ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¸è¦å®Œå…¨å¦å®šå®ƒçš„ä½œç”¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç±»å‹çš„ä¸¥æ ¼æ€§å’Œå¼€å‘çš„ä¾¿åˆ©æ€§ä¹‹é—´æŒæ¡å¹³è¡¡ï¼ˆè¿™ä¹Ÿæ˜¯ TypeScript çš„è®¾è®¡ç†å¿µä¹‹ä¸€ï¼‰ï¼Œæ‰èƒ½å‘æŒ¥å‡º TypeScript æœ€å¤§çš„ä»·å€¼ã€‚  
    
  4. å°†``any``æ–­è¨€ä¸ºä¸€ä¸ªæ›´åŠ å…·ä½“çš„å­ç±»   
     
     åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸å¯é¿å…çš„éœ€è¦å¤„ç† ``any`` ç±»å‹çš„å˜é‡ï¼Œå®ƒä»¬å¯èƒ½æ˜¯ç”±äºç¬¬ä¸‰æ–¹åº“æœªèƒ½å®šä¹‰å¥½è‡ªå·±çš„ç±»å‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å†å²é—ç•™çš„æˆ–å…¶ä»–äººç¼–å†™çš„çƒ‚ä»£ç ï¼Œè¿˜å¯èƒ½æ˜¯å—åˆ° ``TypeScript`` ç±»å‹ç³»ç»Ÿçš„é™åˆ¶è€Œæ— æ³•ç²¾ç¡®å®šä¹‰ç±»å‹çš„åœºæ™¯ã€‚   

     é‡åˆ° ``any`` ç±»å‹çš„å˜é‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ— è§†å®ƒï¼Œä»»ç”±å®ƒæ»‹ç”Ÿæ›´å¤šçš„ ``any``ã€‚

     æˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©æ”¹è¿›å®ƒï¼Œé€šè¿‡ç±»å‹æ–­è¨€åŠæ—¶çš„æŠŠ ``any`` æ–­è¨€ä¸ºç²¾ç¡®çš„ç±»å‹ï¼Œäº¡ç¾Šè¡¥ç‰¢ï¼Œä½¿æˆ‘ä»¬çš„ä»£ç å‘ç€é«˜å¯ç»´æŠ¤æ€§çš„ç›®æ ‡å‘å±•ã€‚

     ä¸¾ä¾‹æ¥è¯´ï¼Œå†å²é—ç•™çš„ä»£ç ä¸­æœ‰ä¸ª ``getCacheData``ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ anyï¼š  

     ```typescript
      function getCacheData(key: string): any {
        return (window as any).cache[key];
      }
     ```  
     é‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œæœ€å¥½èƒ½å¤Ÿå°†è°ƒç”¨äº†å®ƒä¹‹åçš„è¿”å›å€¼æ–­è¨€æˆä¸€ä¸ªç²¾ç¡®çš„ç±»å‹ï¼Œè¿™æ ·å°±æ–¹ä¾¿äº†åç»­çš„æ“ä½œï¼š  

     ```typescript
      function getCacheData(key: string): any {
        return (window as any).cache[key];
      }

      interface Cat {
        name: "mimi";
        run: () => void;
      }

      const result = getCacheData("tom") as Cat;
      result.run();
     ```  

     ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨å®Œ ``getCacheData`` ä¹‹åï¼Œç«‹å³å°†å®ƒæ–­è¨€ä¸º ``Cat`` ç±»å‹ã€‚è¿™æ ·çš„è¯æ˜ç¡®äº† ``tom`` çš„ç±»å‹ï¼Œåç»­å¯¹ ``tom`` çš„è®¿é—®æ—¶å°±æœ‰äº†ä»£ç è¡¥å…¨ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚
     








 

### <a name="T">æ³›å‹</a>  

<CommentService />
